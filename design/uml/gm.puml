@startuml
set separator ::

enum gm::GameState {
	MenuMain
	MenuOptions
	MenuLevels
	ScenePlaying
	ScenePaused
	SceneWin
}
hide GameState methods

class gm::GameOptions {
	+mouseSensitivity
	+scrollSensitivity
	+mazeSensitivity
}
hide GameOptions methods

class gm::Game {
	+onInit()
	+onUpdate()
	+onRender()
	+onResize()
	..
	+getState()
	+setState()
	--
	-options, state
	..
	-frameSize, internalSize
	-gui
	..
	-scenes
	-currentScene
}

class gm::Scene {
	+create()
	+restart()
	+destroy()
	..
	+updateCamera()
	+updateMazeRotation()
	+updatePhysics()
	+updateTimer()
	..
	+checkWinCondition()
	+getId()
	+getTime()
	+getBestTime()
	+setBestTime()
	..
	+display()
	--
	-id
	-timer, bestTime
	..
	-camera
	-renderables
	-light
	..
	-marble
	-maze
}

enum gm::BlockType {
	Empty
	Wall
	Start
	Finish
}
hide BlockType methods

class gm::Maze {
	+create()
	..
	+getBlock()
	+setBlock()
	..
	+toGeometry()
	--
	-width, height, depth
	-blocks
}

class gm::Marble {
	+toGeometry()
	..
	+position, velocity, direction
	+speed, acceleration
	+radius
}

Maze <-down- BlockType

Scene *-left- Maze
Scene *-down- Marble

Game <-up- GameOptions
Game <-down- GameState
Game <-left- Scene

@enduml
