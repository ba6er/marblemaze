@startuml
set separator ::

class gm::Game {
	+onInit(width, height, &renderAssetManager)
	+onUpdate(deltaTime, currentTime, &input) : bool
	+onRender(deltaTime, currentTime, &renderAssetManager)
	+onResize(width, height)
	..
	-currentScene: Scene
}

class gm::Scene {
	+updatePhysics(deltaTime)
	..
	+maze: Maze
	+ball: Ball
	..
	+camera: Camera
	+renderables: Renderable[]
	+lights: Light[]
}

enum gm::BlockType {
	Empty
	Wall
	Start
	Finish
}
hide BlockType methods

class gm::Maze {
	+loadFromFile(fileName)
	..
	+getBlock(x, y, z) : BlockType
	+setBlock(x, y, z, block)
	..
	+toGeometry(&mesh) : GeometryData
	--
	-width, height, depth: int
	-bricks: BlockType[]
}

class gm::Ball {
	+toGeometry() : GeometryData
	..
	+position: Vec3
	+velocity: Vec3
}

class main {
	input: Input
	ram: RenderAssetManager
	game: Game
}
hide main circle
hide main methods

main *-- Game
Game <-- Scene

Maze <-up- BlockType

Scene *-left- Maze
Scene *-right- Ball

@enduml
